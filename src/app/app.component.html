<div class="jumbotron" class="glow">
    <div class="page-header">
        <h1 class="quizzyboi">A E S T H E T I C</h1>
    </div>
</div>
<div class="container">
    <div class="row" *ngIf="quizLoadingError">
        <div class="col-md-12">
            <h3>Can't load quizzes, please try again</h3>
        </div>
    </div>
    <div class="row 1" *ngIf="!quizLoadingError">
        <div class="col-md-4 class1">
            <button class="btn add-new-quiz" (click)="addNewQuiz()">add New Quiz</button>
            <br>
            <br>
            <div class="list-group">
                <div [class.active]="q === selectedQuiz" 
                    (click)="selectQuiz(q)" 
                    class="list-group-item list-group-item-action" 
                    *ngFor="let q of quizzes">
                    {{ q.name }}
                    <span class="badge badge-secondary float-right" [class.bg-danger]="q.numberQuestions === 0">{{ q.numberQuestions }}</span>
                </div>
                <img class="vaporwave" src="https://66.media.tumblr.com/77bfb4472f4078747e7cc41df3ef7c10/tumblr_ofvr8fQOn31toe0eco1_500.gif" alt="vaporwave">
            </div>
        </div>
        <div    
            class="col-md-8" 
            [@detailsFromLeft]="detailsAnimationState"
            (@detailsFromLeft.done)="detailsFromLeftAnimationComplete()"
        >
                <div    [class.hiddenButtons]="!selectedQuiz"
                        [@pulseSaveCancelButtons] = "numberOfChangedQuizzes > 0 ? 'somethingToSave' : 'nothingToSave'"
                >
                    <button class="btn save  mr-3" 
                            [class.save]="numberOfChangedQuizzes === 0"
                            [class.super-save]="numberOfChangedQuizzes > 0"
                            (click)="saveQuizzes()"
                    >
                    S &nbsp;&nbsp;A &nbsp;&nbsp;V &nbsp;&nbsp;E &nbsp;&nbsp; ({{ numberOfChangedQuizzes }})</button>
                    <button class="btn cancel" (click)="loadQuizzes()">C A N C E L</button>
                    <button (click)="removeQuiz(selectedQuiz)" class="btn remove">r e m o v e</button>
                    <button (click)="removeAllQuizzes()" class="btn remove-all">remove all</button>
                    <br>
                    <br>
                </div>

            <div *ngIf="selectedQuiz">
                        <div class="card general">
                            <div class="card-header boop-right">
                                General
                            </div>
                            <br>&nbsp;
                            Name
                            <div class="card-body">
                                <input type="text" autofocus onmouseover="javascript:this.focus();this.select();" onclick="this.select()" [(ngModel)]="selectedQuiz.name">
                            </div>
                        </div>
                <div class="card questions">
                    <div class="card-header boop-right">
                        Questions
                    </div>
                    <div class="card-body">
                        <div class="list-group">
                            <div *ngFor="let question of selectedQuiz.questions; let i = index">
                                Question #{{ i + 1 }}: {{ question.name }}
                                <span class="float-right">
                                <button (click)="removeQuestion(question)" class="btn remove mb-2">r e m o v e</button>
                                </span>
                            </div>
                        </div>
                        <input type="text" id="newQuestion" [(ngModel)]="newQuestion">&nbsp;&nbsp;
                        <button (click)="addNewQuestion()" class="btn add">add a question</button>
                    </div>
                    <img class="vaporwave2" src="https://media.giphy.com/media/G2k1HJdHvg0G4/giphy.gif" alt="vaporwave2">
                </div>    
            </div>
            <div *ngIf="!selectedQuiz">
                <div class="card p-4">
                    <h3>There is no active quiz</h3>
                        <p>Please select a quiz from the list.</p>
                </div>
            </div>
        </div>
    </div>
</div>